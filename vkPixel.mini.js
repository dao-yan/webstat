var vkPixel=function(e){this.baseUrl="https://vk.com/rtrg",this.pixelCode=null,this.autoHit=!0,this.debug=!1,this.buildQuery=function(e){var t=[];for(var i in e)t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")},this.request=function(e){return e=e||{},null===this.pixelCode?(this.debug&&console.error("vkPixel.Request: Pixel code undefined."),!1):(e.p=this.pixelCode,(window.Image?new Image:document.createElement("img")).src=this.baseUrl+"?"+this.buildQuery(e),!0)},this.hit=function(){return this.request()&&this.debug&&console.info("vkPixel.Hit: sended."),this},this.event=function(e){return"string"!=typeof e?(this.debug&&console.error("vkPixel.Event: Name undefined."),!1):(this.request({event:e})&&this.debug&&console.info("vkPixel.Event: ("+e+") sended."),this)},this.add=function(e){return"number"!=typeof e?(this.debug&&console.error("vkPixel.Add: Audience ID undefined."),!1):(this.request({audience:e})&&this.debug&&console.info("vkPixel.Add: User added in audience (ID="+e+")."),this)},"object"==typeof e&&("string"==typeof e.code&&(this.pixelCode=e.code),"boolean"==typeof e.autoHit&&(this.autoHit=e.autoHit),"boolean"==typeof e.debug&&(this.debug=e.debug)),this.autoHit&&this.hit()};